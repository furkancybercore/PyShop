# PyShop
Here is the commands that i used in order. 

git clone https://github.com/furkancybercore/PyShop

cd PyShop/

python3 -m venv venv

source venv/bin/activate

pip install django

django-admin startproject pyshop

python3 manage.py runserver

ctrl + c

git branch

git checkout -b dev

git checkout -b dev

git add .

git commit -m "Created pyshop project in Django"

git push -u origin dev

git checkout main

git fetch origin

git pull origin main

git merge dev

git push origin main

git checkout dev


python3 manage.py startapp products

python3 manage.py runserver

git add .

git commit -m "created products app

git push

products/views.py
```
from django.shortcuts import render
from django.http import HttpResponse


"""
All views fuction always take parameter request object.
Because when we go to a link, http sents a request, 
this function takes this request object as an parameter.
"""
def index(request):
    return HttpResponse('Hello World')
```

### URL Mapping
create a new file named "urls.py" in products app

products/urls.py
```
from django.urls import path
from . import views # we imported views from the same directory


'''
we created this list oblect to keep our urls
'''
urlpatterns = [
    path('', views.index), # this is the path to the index view
]
```

there is an urls.py in pyshop. Its like parent.
```
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('products/', include('products.urls')) #we added this path. when user go this directory, it refer products.urls.py file.
]

```


products/urls.py;

* added "new" directory (http:.../products/new/)
```
    path('new',views.new) # this is "new" directory of products app
```


product/views.py;
we should add 'new' fuction that we mention in urls.py file
```
...
def new(request):
    return HttpResponse('New Products')
```

```
git add .
git commit -m "added /product/new directory"
git push
```

create a pull request and accept it in github.

### models

products/models.py;
```
class Product(models.Model): # Product is a class that inherits from models.Model
    name = models.CharField(max_length=255)
    price = models.FloatField()
    stock = models.IntegerField()
    image_url = models.CharField(max_length=2083)
```

git add README.md products/models.py
git commit -m "updated products/models.py"
git push

create a pull request and accept it in github.

### Migrations

db_sqlite3-screenshot1.png

```
(venv) furkan@furkan-laptop:~/Documents/GitHub/PyShop$ python3 manage.py makemigrations
No changes detected
```
 its because django doesnt know about our product app. to fix this;

```
 # Application definition

INSTALLED_APPS = [
    ...
    'products.apps.ProductsConfig', # add the products app to the installed apps
]
```

```
(venv) furkan@furkan-laptop:~/Documents/GitHub/PyShop$ python3 manage.py makemigrations
Migrations for 'products':
  products/migrations/0001_initial.py
    + Create model Product
```

this command created products/migrations/0001_initial.py file automaticaly.

products/migrations/0001_initial.py;
```
# Generated by Django 5.1.7 on 2025-03-12 14:52

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('price', models.FloatField()),
                ('stock', models.IntegerField()),
                ('image_url', models.CharField(max_length=2083)),
            ],
        ),
    ]
```

now we are able to prepare our database, we can do it with this code;

```
python3 manage.py migrate
```

dbsqlite3_screenshot2.png

Practice; create a offer concept

products/models.py;
```
class Offer(models.Model):
    code = models.CharField(max_length=10)
    description = models.CharField(max_length=255)
    discount = models.FloatField()
```

```
python3 manage.py makemigrations
```

```
python3 manage.py migrate
```

db_sqlite3-screenshot3.png

```
git add .
git commit -m "created offer class"
git push
```

### Admin Panel

```
python3 manage.py runserver
```

go to : http://127.0.0.1:8000/admin/

to login, we need to create a superuser. To do this;

```
python3 manage.py createsuperuser
#-admin
#-admin@mail.com
#-1234
```

```
python3 manage.py runserver
```

go to : http://127.0.0.1:8000/admin/ 
login with that username and password.

here is a screenshot

AdminPanel1.png

products/admin.py ; add this;

```
from .models import Product # import the Product class from the models.py file

admin.site.register(Product) # Admin object, site is attibute and object itself, 
                             # calling register method with argument Product. 
                             # This will make the Product model available in the admin interface.    

```

go to : http://127.0.0.1:8000/admin/ 
you will see product pane here. 

Add 3 product by using this pannel.


### Costumize admin panel

products/admin.py;
```
class ProductAdmin(admin.ModelAdmin): # ProductAdmin is a class that inherits from admin.ModelAdmin
    list_display = ('name', 'price', 'stock') #tuple of fields to display in the admin interface


admin.site.register(Product, ProductAdmin) # Admin object, site is attibute and object itself, 
                             # calling register method with argument Product. 
                             # This will make the Product model available in the admin interface.   

                             # We added ProductAdmin class as a second argument
                             # when registering the Product model, 
                             # wdjango will use the information in ProductAdmin class 
                             # to know how to represent a list of products.
                             # This will customize the way the Product model is displayed
                             # in the admin interface.
```

### adding offer to admin panel

```
from .models import Product, Offer

...

class OfferAdmin(admin.ModelAdmin): ## OfferAdmin is a class that inherits from admin.ModelAdmin
    list_display = ('code', 'discount') #tuple of fields to display in the admin interface

admin.site.register(Offer, OfferAdmin) # Admin object, site is attibute and object itself,
```

AdminPanel2.png

Note;

The names "Products" and "Offers" that you see in the Django admin panel are automatically generated by Django based on the names of your models. By default, Django uses the plural form of the model class names to display them in the admin interface.

If you want to customize these names, you can use the verbose_name and verbose_name_plural options in the Meta class of your models. Here is how you can modify your Product and Offer models to customize their display names in the admin panel:

```
from django.db import models


class Product(models.Model): # Product is a class that inherits from models.Model
    name = models.CharField(max_length=255) #attributes of the class
    price = models.FloatField()
    stock = models.IntegerField()
    image_url = models.CharField(max_length=2083)

    class Meta:
        verbose_name = "Product"
        verbose_name_plural = "Products"


class Offer(models.Model):
    code = models.CharField(max_length=10)
    description = models.CharField(max_length=255)
    discount = models.FloatField()

    class Meta:
        verbose_name = "Offer"
        verbose_name_plural = "Offers"
```


lets commit what we did
```
git add .
git commit -m "Edited Admin Panel2"
git push origin dev
```

### Templates

create temlpates directory;
/products/templates/

add new file under this directory;
/products/templates/index.html;

```
<h1>Products<h1>
<ul>
    <li>Item 1</li>
    <li>Item 2</li>
    <li>Item 3</li>
<ul>

```


products/views.py
```
from .models import Product # Importing Product model from models.py file.
...

def index(request):
    products = Product.objects.all() # Fetch all products from database and load them to products variable.
    return render(request, 'index.html')
    # render function takes request object as a first argument. Second arguemnt is the name of template.
    # django will look for this template in the templates directory of the app.
    # In this case, it will look for index.html in products/templates directory.
    # And render this template to the user.

```

ProductPage1.png

products/views.py
```
...
def index(request):
    products = Product.objects.all() # Fetch all products from database and load them to products variable.
    #return HttpResponse('Products Homepage')
    return render(request, 'index.html',
                  {'products': products})

'''
   How render function works:
        Render function takes request object as a first argument. 
        
        Second arguemnt is the name of template.
        django will look for this template in the templates directory of the app.
        In this case, it will look for index.html in products/templates directory.
        And render this template to the user.

        Third argument is the context. Context is a dictionary 
        that contains all the data that we want to pass to the template.
        In this case, we are passing products to the template.
        So, we can use this products variable in the template.
        We can use this products variable to show all products in the template.
'''
```

update index html and use template tags;
/products/templates/index.html;

```
<h1>Products<h1>
    <ul>
        {% for product in products %} <!-- products is given as 3rd argument in render function in views.py -->
            <li>{{ product.name }} - {{ product.price }}</li>
        {% endfor %}
    <ul>
```
ProductPage2.png


### adding bootstrap

(can be addes later) 