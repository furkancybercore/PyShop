# PyShop
Here is the commands that i used in order. 

git clone https://github.com/furkancybercore/PyShop

cd PyShop/

python3 -m venv venv

source venv/bin/activate

pip install django

django-admin startproject pyshop

python3 manage.py runserver

ctrl + c

git branch

git checkout -b dev

git checkout -b dev

git add .

git commit -m "Created pyshop project in Django"

git push -u origin dev

git checkout main

git fetch origin

git pull origin main

git merge dev

git push origin main

git checkout dev


python3 manage.py startapp products

python3 manage.py runserver

git add .

git commit -m "created products app

git push

products/views.py
```
from django.shortcuts import render
from django.http import HttpResponse


"""
All views fuction always take parameter request object.
Because when we go to a link, http sents a request, 
this function takes this request object as an parameter.
"""
def index(request):
    return HttpResponse('Hello World')
```

## URL Mapping
create a new file named "urls.py" in products app

products/urls.py
```
from django.urls import path
from . import views # we imported views from the same directory


'''
we created this list oblect to keep our urls
'''
urlpatterns = [
    path('', views.index), # this is the path to the index view
]
```

there is an urls.py in pyshop. Its like parent.
```
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('products/', include('products.urls')) #we added this path. when user go this directory, it refer products.urls.py file.
]

```


products/urls.py;

* added "new" directory (http:.../products/new/)
```
    path('new',views.new) # this is "new" directory of products app
```


product/views.py;
we should add 'new' fuction that we mention in urls.py file
```
...
def new(request):
    return HttpResponse('New Products')
```

git add .
git commit -m "added /product/new directory"
git push

create a pull request and accept it in github.

### models

products/models.py;
```
class Product(models.Model): # Product is a class that inherits from models.Model
    name = models.CharField(max_length=255)
    price = models.FloatField()
    stock = models.IntegerField()
    image_url = models.CharField(max_length=2083)
```

git add README.md products/models.py
git commit -m "updated products/models.py"
git push

create a pull request and accept it in github.

### Migrations

db_sqlite3-screenshot1.png

```
(venv) furkan@furkan-laptop:~/Documents/GitHub/PyShop$ python3 manage.py makemigrations
No changes detected
```
 its because django doesnt know about our product app. to fix this;

 ```
 # Application definition

INSTALLED_APPS = [
    ...
    'products.apps.ProductsConfig', # add the products app to the installed apps
]
 ```
```
(venv) furkan@furkan-laptop:~/Documents/GitHub/PyShop$ python3 manage.py makemigrations
Migrations for 'products':
  products/migrations/0001_initial.py
    + Create model Product
```

this command created products/migrations/0001_initial.py file automaticaly.

products/migrations/0001_initial.py;
```
# Generated by Django 5.1.7 on 2025-03-12 14:52

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('price', models.FloatField()),
                ('stock', models.IntegerField()),
                ('image_url', models.CharField(max_length=2083)),
            ],
        ),
    ]
```

now we are able to prepare our database, we can do it with this code;

```
python3 manage.py migrate
```

dbsqlite3_screenshot2.png

Practice; create a offer class

products/models.py;
```
class Offer(models.Model):
    code = models.CharField(max_length=10)
    description = models.CharField(max_length=255)
    discount = models.FloatField()
```

```
python3 manage.py makemigrations
```

```
python3 manage.py migrate
```

db_sqlite3-screenshot3.png

git add .
git commit -m "created offer class"
git push
